
<html>
    <head>
        <p id = 'title'><h2>Virtual Garage</h2></p>
    </head>
        <body>
            <p id = 'createCar'><h4>Create Car and check into garage</h4></p>
        </body>
            <form>
        <input type = 'text' id = 'carmodel' value = 'Input car model'onfocus = 'if(this.value == "Input car model") this.value = "";' />
        <input type = 'text' id = 'carmake' value = 'Input car make' onfocus = 'if(this.value == "Input car make") this.value = ""'/>
        <input type = 'text' id = 'carreg' value = 'Input car reg' onfocus = 'if(this.value == "Input car reg") this.value = ""'/>
        <input type = 'text' id = 'carfaults' value = 'Input car faults' onfocus = 'if(this.value == "Input car faults") this.value = ""'/>
        <input type = 'button' id = 'execute' value = 'Create vehicle' onclick = 'createCar()' /><br>
                <br>
        <input type = 'text' id = 'displaycheckin' size = '40' /><br>
            <br>
                <br>
              </form>
        <body>
            <p id = 'removeCar'><h4>Checkout from garage</h4></p>
        </body>
            <form>
        <input type = 'text' id = 'regCheckout' value = 'Input registration' onfocus = 'if(this.value == "Input registration") this.value = "";' />
        <input type = 'button' id = 'execute' value = 'Checkout vehicle' onclick = 'checkout()' /><br>
                <br>
        <input type = 'text' id = 'displaycheckout' size = '50' /><br>
            <br>
                <br>
            </form>
    <body>
            <p id = 'calcbill'><h4>Calculate bills</h4></p>
        </body>
            <form>
        <input type = 'text' id = 'regbills' value = 'Input registration' onfocus = 'if(this.value == "Input registration") this.value = "";' />
        <input type = 'button' id = 'execute' value = 'Calculate bills' onclick = 'calculateBill()' /><br>
            <br>
        <input type = 'text' id = 'displaybill' size = '50'/><br>
           <br>
                <br>
            </form>
            <body>
            <p id = 'calcbill'><h4>Output garage contents</h4></p>
        </body>
            <form>
        <input type = 'button' id = 'outputgaragecontents' value = 'Show cars in garage' onclick = 'outputGarage()' /><br>
         <br>
                <br>
            </form>
    <script>

        let garage = [];

        function createCar(){
            let vehicle = {};
            vehicle.model = document.getElementById('carmodel').value;
            vehicle.make = document.getElementById('carmake').value;
            vehicle.reg = document.getElementById('carreg').value;
            vehicle.faults = document.getElementById('carfaults').value;
            garage.push(vehicle);
            document.getElementById('displaycheckin').value = 'Vehicle with registration ' + vehicle.reg + ' added to garage';
        }

        function checkout() {
            let registration = document.getElementById('regCheckout').value;
                for(let i = 0; i < garage.length; i++) {
                    if(garage[i].reg == registration){
                    garage.splice(i,1);
                    }
                }
            document.getElementById('displaycheckout').value = 'Vehicle with registration ' + registration.value + ' has been checked out';
        }

        function calculateBill() {
            let registration = document.getElementById('regbills').value;
            let bill = 0;
                for(let i = 0; i < garage.length; i++) {
                    if(garage[i].reg == registration) {
                    let price = 50;
                    let repairsMade = garage[i].faults;
                    bill = price * repairsMade;
                    }
                }     
            document.getElementById('displaybill').value = 'Total bill for vehicle with registration ' + registration.value + ' : Â£' + bill;
        }

        function outputGarage() {
            garage.forEach(x => document.write(JSON.stringify(x,2)));
        }

    </script>
</html>