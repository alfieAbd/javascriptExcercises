<html>
    <body></body>
    <script>

        let garage = [];
        let car = [];

        function createCar(model,make,reg,problems){
            let vehicle = {};
            vehicle.model = model;
            vehicle.make = make;
            vehicle.reg = reg;
            vehicle.problems = problems;
          //  console.log(vehicle)
            car.push(vehicle);
        }

        createCar('corsa','vauxhall','ea53mrv',2);
        createCar('golf','volkswagen','x788ngs',5);
        createCar('juke','nissan','ng05hue',1);
        createCar('warrior','mitsubishi','ko98uah',7);
        
        // document.write(JSON.stringify(car,2));
    
        function checkIn(veh) {
            if(veh != null) {
                garage.push(veh);
               // console.log('vehicle added to garage')
            } else {
                alert('car not added')
            }
        }

        checkIn(car[0]);
        checkIn(car[1]);
        checkIn(car[2]);
        checkIn(car[3]);
        //checkIn();

        // document.write(JSON.stringify(garage,2));

        function checkout(registration) {
            if(garage == null) {
                alert('garage is already empty')
            } else {
                // -------- Insert loop here --------
                // Loop through garage to check every car
                for(let i = 0; i <= garage.length; i++) {
                    // Check every car object and find object that matches registration
                    for(let j = 0; j <= car.length; j++) {
                        if(car[j].reg == registration) {
                        let index = garage.indexOf(i)[j];
                        }
                    }
                    // let regis = car.find(registration);
                }
                garage.splice(index,1);
                // console.log('vehicle with reg ' + registration + ' removed from garage');
            }
        }
        

        console.log(JSON.stringify(garage,2));
        checkout('ea53mrv');
        console.log(JSON.stringify(garage,2));
        // document.write(JSON.stringify(garage,2));

        // function calculateBill(registration) {
        //     if(car == null) {
        //         alert('cannot calculate bill')
        //     } else {
        //         let registration = car.reg;
        //         let price = 50;
        //         let repairsMade = car.problems;
        //         bill = price * repairsMade;
        //         return bill;
        //     }
        // }

        // calculateBill('ea53mrv');
        // console.log(calculateBill('ea53mrv'));

    </script>
</html>